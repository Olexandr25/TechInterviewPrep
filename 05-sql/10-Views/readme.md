# Views

**Views** в SQL — це віртуальні таблиці, створені на основі результату SQL-запиту. Вони не зберігають дані фізично, а лише визначають спосіб представлення даних з однієї чи кількох таблиць. View можна використовувати як звичайну таблицю для SELECT, а іноді й для INSERT/UPDATE/DELETE (якщо це дозволяє СУБД).

---

## Переваги використання views

- **Спрощення складних запитів** — інкапсуляція JOIN-ів, підзапитів, обчислень.
- **Безпека** — обмеження доступу до чутливих даних у базових таблицях.
- **Зручність** — представлення даних у потрібному форматі для різних користувачів чи додатків.
- **Інкапсуляція бізнес-логіки** — повторне використання складних обчислень.

---

## Типи views

- **Звичайні (простi) views** — базуються на одній або кількох таблицях.
- **Складні views** — містять JOIN-и, підзапити, функції.
- **Оновлювані views** — дозволяють змінювати дані у базових таблицях через view (залежить від СУБД та складності view).
- **Materialized views** (матеріалізовані) — зберігають результат запиту фізично (доступно не у всіх СУБД).

---

## Створення view

```sql
CREATE VIEW active_customers AS
SELECT id, name, email
FROM customers
WHERE is_active = 1;
```

---

## Модифікація view

- **CREATE OR REPLACE VIEW** — змінює визначення view, зберігаючи ім'я:

  ```sql
  CREATE OR REPLACE VIEW active_customers AS
  SELECT id, name FROM customers WHERE status = 'active';
  ```

- **DROP VIEW + CREATE VIEW** — видалити старий view і створити новий з тією ж назвою.

---

## Видалення view

```sql
DROP VIEW active_customers;
```

- Видаляє лише визначення view, не впливає на базові таблиці.

---

## Interview Questions

- Що таке view у SQL? Для чого вони потрібні?
- Які переваги використання views?
- Як створити, змінити або видалити view?
- Чи можна оновлювати дані через view?
- Що таке materialized view і чим він відрізняється від звичайного view?
- Як views впливають на безпеку даних?

---

## What to Answer

- View — це віртуальна таблиця, яка базується на результаті SELECT-запиту.
- Використовується для спрощення складних запитів, обмеження доступу, представлення даних у зручному вигляді.
- Створення: `CREATE VIEW ... AS SELECT ...`
- Зміна: `CREATE OR REPLACE VIEW ...` або `DROP VIEW` + `CREATE VIEW`
- Видалення: `DROP VIEW ...`
- Materialized view зберігає дані фізично, звичайний — ні.
- Оновлення через view можливе, якщо view простий і не містить складних конструкцій.
