# Data Constraints

**Data constraints** в SQL — це правила, які застосовуються до стовпців або таблиць для забезпечення цілісності та узгодженості даних. Вони обмежують типи та значення даних, які можна вставити, оновити або видалити, і допомагають запобігти помилкам на рівні бази даних.

---

## Основні типи обмежень (constraints)

- **PRIMARY KEY**
  Унікальний ідентифікатор кожного рядка у таблиці. Не допускає дублювання та NULL.

  ```sql
  CREATE TABLE employees (
    id INT PRIMARY KEY,
    name VARCHAR(50) NOT NULL
  );
  ```

  - Забезпечує унікальність записів.
  - Може складатися з одного або кількох стовпців (комбінований ключ).

- **FOREIGN KEY**
  Стовпець або група стовпців, що посилається на PRIMARY KEY іншої таблиці.

  ```sql
  CREATE TABLE orders (
    id INT PRIMARY KEY,
    employee_id INT,
    FOREIGN KEY (employee_id) REFERENCES employees(id)
  );
  ```

  - Забезпечує зв'язок між таблицями.
  - Підтримує цілісність посилань (referential integrity).

- **UNIQUE**
  Забезпечує унікальність значень у стовпці або комбінації стовпців (може бути кілька в таблиці).

  ```sql
  CREATE TABLE users (
    id INT PRIMARY KEY,
    email VARCHAR(100) UNIQUE
  );
  ```

  - Дозволяє NULL (на відміну від PRIMARY KEY).
  - Може бути кілька UNIQUE-обмежень у таблиці.

- **NOT NULL**
  Забороняє зберігати NULL у стовпці, тобто значення обов'язкове для кожного рядка.

  ```sql
  CREATE TABLE products (
    id INT PRIMARY KEY,
    name VARCHAR(100) NOT NULL
  );
  ```

- **CHECK**
  Дозволяє задати умову, якій повинні відповідати значення у стовпці.

  ```sql
  CREATE TABLE employees (
    id INT PRIMARY KEY,
    age INT CHECK (age >= 18)
  );
  ```

  - Можна використовувати для перевірки діапазону, формату, логічних умов.

---

## Для чого потрібні constraints?

- Захищають від некоректних/дубльованих/неконсистентних даних.
- Підтримують зв'язки між таблицями (FOREIGN KEY).
- Дозволяють реалізувати бізнес-правила на рівні бази даних.
- Підвищують якість і надійність даних.

---

## Interview Questions

- Які основні типи обмежень у SQL? Наведіть приклади.
- Для чого потрібен PRIMARY KEY? Чим він відрізняється від UNIQUE?
- Як забезпечити зв'язок між таблицями?
- Як зробити поле обов'язковим для заповнення?
- Як обмежити допустимі значення у стовпці?
- Чи може таблиця мати кілька FOREIGN KEY? PRIMARY KEY?
- Чим відрізняється FOREIGN KEY від PRIMARY KEY?
- Як працює CHECK constraint?

---

## What to Answer

- Основні constraints: `PRIMARY KEY`, `FOREIGN KEY`, `UNIQUE`, `NOT NULL`, `CHECK`.
- `PRIMARY KEY` — унікальний ідентифікатор, не допускає NULL, лише один на таблицю.
- `UNIQUE` — забезпечує унікальність, але допускає NULL, може бути кілька.
- `FOREIGN KEY` — забезпечує зв'язок між таблицями, посилається на PRIMARY KEY іншої таблиці.
- `NOT NULL` — поле обов'язкове для заповнення.
- `CHECK` — дозволяє задати додаткові умови для значень у стовпці.
- Таблиця може мати кілька FOREIGN KEY, але лише один PRIMARY KEY.
- Constraints допомагають підтримувати цілісність і якість даних на рівні бази.
