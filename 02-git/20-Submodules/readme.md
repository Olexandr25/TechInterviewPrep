# Git Submodules

## What and Why use?

Git submodules — це механізм, який дозволяє включати один Git-репозиторій у інший як підпроєкт. Вони корисні для керування зовнішніми залежностями, спільними бібліотеками або компонентами, які використовуються у кількох проектах.

**Ключові особливості:**

- Окремі репозиторії з незалежною історією.
- Головний репозиторій відстежує конкретний коміт підмодуля.
- Дозволяє повторно використовувати код і створювати модульну структуру проекту.
- Полегшує керування залежностями та зберігає основний репозиторій легким.

**Переваги:**

- Включення сторонніх бібліотек.
- Спільне використання коду між проектами.
- Керування багатокомпонентними проектами.
- Збереження чистоти основного репозиторію.

> ⚠️ Зверніть увагу: підмодулі додають складності у workflow, тому їх варто використовувати обдумано.

---

## Як працюють підмодулі

Підмодуль — це запис у головному репозиторії, який вказує на конкретний коміт іншого репозиторію. Підмодулі не відстежують гілки чи автоматично не оновлюються — вони завжди "зафіксовані" на певному коміті.

---

## Додавання підмодуля

```sh
git submodule add https://github.com/user/submodule-repo.git
```

- Додає підмодуль у нову папку та створює файл `.gitmodules` з інформацією про підмодуль.

---

## Клонування репозиторію з підмодулями

```sh
git clone --recurse-submodules <repo-url>
```

- Клонує репозиторій разом з усіма підмодулями.
- Якщо вже клонували без цієї опції:

  ```sh
  git submodule init
  git submodule update
  ```

  або

  ```sh
  git submodule update --init --recursive
  ```

---

## Оновлення підмодуля

- Оновити підмодуль до останнього коміту з remote:

  ```sh
  git submodule update --remote
  ```

- Якщо змінився URL підмодуля:

  ```sh
  git submodule sync
  git submodule update
  ```

---

## Робота з підмодулями

- Зміни у підмодулі потрібно комітити та пушити окремо.
- Після оновлення підмодуля у головному репозиторії потрібно закомітити новий "стан" підмодуля (оновлений коміт).

---

## Поширені команди

- Додати підмодуль:
  `git submodule add <url>`
- Ініціалізувати підмодулі:
  `git submodule init`
- Оновити підмодулі:
  `git submodule update`
- Оновити всі підмодулі до останніх комітів:
  `git submodule update --remote`
- Синхронізувати URL:
  `git submodule sync`

---

## Коли використовувати підмодулі?

- Коли потрібно жорстко контролювати версію зовнішньої залежності.
- Для рідко оновлюваних компонентів, які використовуються у кількох проектах.
- Для делегування частини проекту іншій команді або сторонньому розробнику.

---

## Interview Questions

- Що таке Git submodule і для чого він використовується?
- Як додати, оновити та клонувати репозиторій з підмодулями?
- Які переваги та недоліки використання підмодулів?

## What to Answer

- Git submodule — це спосіб включити один репозиторій у інший для керування залежностями.
- Додають через `git submodule add`, ініціалізують та оновлюють через `git submodule init` і `git submodule update`.
- Переваги: контроль версій, повторне використання коду; недоліки: складність у workflow, потреба окремо пушити зміни підмодуля.
