# Rewriting History

Іноді виникає потреба змінити або видалити коміти з історії репозиторію Git. Це можна зробити різними способами:

- **git commit --amend:** Дозволяє змінити останній коміт (наприклад, виправити повідомлення або додати файли).
- **git rebase:** Переносить коміти з однієї гілки на іншу, переписуючи історію без створення merge-комітів.
- **git filter-branch:** Дає змогу переписати історію, застосовуючи фільтри до кожного коміту (наприклад, видалити файл з усіх комітів). Альтернатива — `git filter-repo`, який простіший і потужніший.
- **git push --force:** Дозволяє "форсовано" оновити віддалену гілку, переписавши її історію.

**Коли потрібно переписувати історію:**

- Виправлення помилок або описів у комітах.
- Видалення чутливих даних (API-ключі, паролі) з історії.
- Спрощення складної історії для кращої читабельності.

---

## git commit --amend

`git commit --amend` використовується для зміни останнього коміту: можна оновити повідомлення, додати/видалити файли або змінити метадані.
Це дозволяє виправити помилки або покращити опис коміту після його створення.
Після amend Git замінює існуючий коміт новим, який містить усі зміни з моменту останнього коміту.

---

## git rebase

`git rebase` — потужна команда для інтеграції змін з однієї гілки в іншу.
На відміну від merge, який створює новий коміт-злиття, rebase переносить коміти з однієї гілки поверх іншої, переписуючи історію.
Це допомагає зробити історію лінійною та чистою.

---

## git filter-branch

`git filter-branch` дозволяє переписати історію Git, застосовуючи фільтри до кожного коміту.
Можна змінювати дерева файлів (наприклад, видаляти файли), або змінювати метадані комітів.
Оригінальні дати, інформація про злиття та інші деталі зберігаються, якщо не вказано інше.
Рекомендується використовувати сучасну альтернативу — `git filter-repo`, яка простіша та безпечніша, особливо для великих репозиторіїв.

---

## git push --force

`git push --force` дозволяє "форсовано" оновити віддалену гілку, замінивши її історію на локальну.
Це корисно, якщо потрібно переписати історію на remote (наприклад, після rebase чи amend).
Важливо: використовуйте з обережністю, оскільки це може перезаписати зміни інших користувачів. Завжди перевіряйте, чи немає конфліктів на remote перед використанням цієї команди.

---

### Interview Questions

- Для чого використовується git commit --amend?
- Яка різниця між git rebase і git merge?
- Як видалити чутливі дані з історії репозиторію?
- Коли і як безпечно використовувати git push --force?

### What to Answer

- `git commit --amend` дозволяє змінити останній коміт (повідомлення, файли).
- `git rebase` переписує історію, робить її лінійною, на відміну від merge, який створює merge-коміт.
- Для видалення чутливих даних використовують `git filter-branch` або `git filter-repo`.
- `git push --force` використовують для оновлення історії на remote, але лише якщо впевнені, що не перезапишете чужі зміни.
